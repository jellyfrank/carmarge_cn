<odoo>
  <data>
    <record id="view_sale_order_form" model="ir.ui.view">
      <field name="name">sale order form</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form"/>
      <field name="arch" type="xml">
        <field name="amount_tax" position="after">
          <field name="delivery_cost"/>
          <field name="discount_manual"/>
        </field>
        <!-- <field name="amount_tax" position="attributes">
          <attribute name="invisible">1</attribute>
        </field> -->
        <field name="payment_term_id" position="after">
          <field name="port_city" required="1"/>
        </field>
        <!-- <xpath expr="//field[@name='order_line']//tree//field[@name='product_code']" position="attributes">
          <attribute name='invisible'>1</attribute>
        </xpath> -->
        <xpath expr="//field[@name='order_line']//tree//field[@name='price_tax']" position="attributes">
          <attribute name='invisible'>0</attribute>
        </xpath>
        <xpath expr="//field[@name='order_line']//tree//field[@name='product_uom_qty']" position="attributes">
          <attribute name='sum'>total</attribute>
        </xpath>

        <xpath expr="//field[@name='order_line']//tree//field[@name='price_tax']" position="attributes">
          <attribute name='invisible'>1</attribute>
        </xpath>

        <xpath expr="//field[@name='order_line']//tree//field[@name='price_tax']" position="before">
          <field name="tax_after_total" sum="total"/>
        </xpath>

        <xpath expr="//field[@name='order_line']//tree//field[@name='price_unit']" position="attributes">
          <attribute name='attrs'>{'readonly':[('group_use_sale_price_update','=',False)]}</attribute>
        </xpath>

        <xpath expr="//field[@name='order_line']//tree//field[@name='price_unit']" position="after">
          <field name="packaging" invisible="1"/>
          <field name="packaging_qty" sum="total"/>
          <field name="weight" optional="hide" />
          <field name="net_weight" optional="hide"/>
          <field name="volume" optional="hide"/>
          <field name="packaging_weight" optional="hide"/>
          <field name="packaging_net_weight" optional="hide"/>
          <field name="packaging_volume" optional="hide"/>
          <field name="total_packaging_weight" sum="total"/>
          <field name="total_packaging_net_weight" sum="total"/>
          <field name="total_packaging_volume" sum="total"/>
          <field name="group_use_sale_price_update" invisible="1"/>


        </xpath>
      </field>
    </record>
  </data>
</odoo>